<link rel="import" href="../google-spreadsheet-json/google-spreadsheet-json.html">
<link rel="import" href="../rw-survey-rating/rw-survey-rating.html">
<link rel="import" href="../rw-survey-question/rw-survey-question.html">

<polymer-element name="rw-survey">
  <template>
    <google-spreadsheet-json key="0ApzJSyzpjJKZdEcxWTFzeEFONm8xTmt0Ml9hY0VwaXc" schema="{{schema}}" ratings="{{ratings}}" questions="{{questions}}" entries="{{entries}}"></google-spreadsheet-json>
    <link rel="stylesheet" href="rw-survey.css">

    <header>
      <h1>Survey</h1>
    </header>

    <template if="{{entries == undefined}}">
      Loading...
    </template>

    <template repeat="{{rating, i in ratings}}">
      <rw-survey-rating name="{{rating}}" index="{{i}}" entries="{{entries}}"></rw-survey-rating>
    </template>

    <template repeat="{{question, i in questions}}">
      <rw-survey-question name="{{question}}" index="{{i}}" entries="{{entries}}"></rw-survey-question>
    </template>
  </template>
 <script>
    Polymer('rw-survey', {
      response: null,
      schema: ['timestamp', 'name', null, 'grade'],
      ready: function() {

      }
    });
  </script>
</polymer-element>