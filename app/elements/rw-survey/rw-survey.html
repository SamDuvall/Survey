<link rel="import" href="../../bower_components/polymer-ajax/polymer-ajax.html">

<polymer-element name="rw-survey" attributes="animals">
  <template>
    <polymer-ajax url="http://ourpetri.com/animals.json" auto response="{{response}}"></polymer-ajax>
    <link rel="stylesheet" href="rw-survey.css">

    <header>
      <h1>Survey</h1>
    </header>

    <template if="{{animals == undefined}}">
      Loading...
    </template>

    <template if="{{animals && !animals.length}}">
      No Animals
    </template>

    <template if="{{animals && animals.length}}">
    <ul class="animals">
      <template repeat="{{animal in animals}}">
        <li class="animal {{animal.type}}">{{animal.name}}</li>
      </template>
    </ul>
    </template>
  </template>
 <script>
    Polymer('rw-survey', {
      response: null,
      ready: function(){

      },
      responseChanged: function() {
        this.animals = this.response;
      }
    });
  </script>
</polymer-element>